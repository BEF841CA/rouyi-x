<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>RuoYi X - 包名修改工具</title>
    <link rel="stylesheet" href="/static/css/style.css"/>
</head>
<body>
<div class="container">
    <div class="header">
        <h1><span class="cube-icon"></span> RuoYi X</h1>
        <p class="subtitle">三步生成你的专属 RuoYi 项目</p>
    </div>

    <!-- 进度条 -->
    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-steps">
            <div class="step-indicator active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">选择项目</div>
            </div>
            <div class="step-indicator" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">选择版本</div>
            </div>
            <div class="step-indicator" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">配置信息</div>
            </div>
        </div>
    </div>

    <!-- Step 1: 选择项目（按钮形式） -->
    <div class="step-content active" data-step="1">
        <div class="step-header">
            <h2 class="step-title">选择项目</h2>
            <p class="step-description">请选择您想要定制的 RuoYi 项目类型</p>
        </div>
        <div class="project-grid" id="projectGrid">
            <!-- 动态加载项目按钮 -->
            <div class="loading-projects">
                <div class="spinner-small"></div>
                <span>正在加载项目...</span>
            </div>
        </div>
    </div>

    <!-- Step 2: 选择版本 -->
    <div class="step-content" data-step="2">
        <div class="step-header">
            <h2 class="step-title"><span class="step-icon icon-code-branch"></span> 选择版本</h2>
            <p class="step-description">请选择项目的目标版本 (GitHub Tag 或 Branch)</p>
        </div>
        
        <!-- 上一步选择的项目信息展示 -->
        <div class="info-display">
            <div class="info-header">
                <span class="info-icon">📋</span>
                <h3>已选择的项目</h3>
            </div>
            <div class="info-content">
                <div class="info-item">
                    <span class="info-label">项目名称:</span>
                    <span class="info-value" id="selectedProjectName">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">项目描述:</span>
                    <span class="info-value" id="selectedProjectDesc">-</span>
                </div>
            </div>
        </div>
        
        <!-- 类型选择 -->
        <div class="form-group">
            <label>
                <span class="label-icon">🔄</span> 下载类型
            </label>
            <div class="type-selector">
                <button type="button" class="type-btn active" data-type="tag">
                    <span class="type-icon">🏷</span>
                    <span class="type-text">Tag版本</span>
                    <span class="type-desc">稳定发布的版本</span>
                </button>
                <button type="button" class="type-btn" data-type="branch">
                    <span class="type-icon">🌿</span>
                    <span class="type-text">Branch分支</span>
                    <span class="type-desc">开发中的最新代码</span>
                </button>
            </div>
        </div>
        
        <!-- Tag选择 -->
        <div class="form-group" id="tagGroup">
            <label for="tagSelect">
                <span class="label-icon">🏷</span> Tag版本选择
            </label>
            <div class="select-wrapper">
                <select id="tagSelect" required disabled>
                    <option value="">-- 加载中 --</option>
                </select>
                <span class="select-icon"></span>
            </div>
            <div class="example">
                <span class="example-icon"></span>
                基于所选项目的 GitHub 发布版本，建议选择最新的稳定版本
            </div>
        </div>
        
        <!-- Branch选择 -->
        <div class="form-group" id="branchGroup" style="display: none;">
            <label for="branchSelect">
                <span class="label-icon">🌿</span> Branch分支选择
            </label>
            <div class="select-wrapper">
                <select id="branchSelect" required disabled>
                    <!-- 动态加载选项 -->
                </select>
                <span class="select-icon"></span>
                <div class="select-decoration"></div>
            </div>
            <div class="example">
                <span class="example-icon"></span>
                基于所选项目的 GitHub 分支，通常是开发中的最新代码
            </div>
        </div>
        
        <div class="form-actions">
            <button type="button" class="btn btn-secondary prev-step">
                ← 上一步
            </button>
            <button type="button" class="btn btn-primary next-step" disabled>
                下一步 →
            </button>
        </div>
    </div>

    <!-- Step 3: 输入信息 -->
    <div class="step-content" data-step="3">
        <div class="step-header">
            <h2 class="step-title"><span class="step-icon">✏️</span> 配置信息</h2>
            <p class="step-description">请填写您的自定义项目信息</p>
        </div>
        
        <!-- 项目配置信息展示 -->
        <div class="info-display compact">
            <div class="info-header compact">
                <span class="info-icon">📋</span>
                <h3>项目配置信息</h3>
            </div>
            <div class="info-content compact">
                <div class="info-item compact">
                    <span class="info-label compact">项目名称:</span>
                    <span class="info-value compact" id="selectedProjectNameStep3">-</span>
                </div>
                <div class="info-item compact">
                    <span class="info-label compact">项目描述:</span>
                    <span class="info-value compact" id="selectedProjectDescStep3">-</span>
                </div>
                <div class="info-item compact">
                    <span class="info-label compact">目标版本:</span>
                    <span class="info-value compact" id="selectedVersionStep3">-</span>
                </div>
            </div>
        </div>
        
        <form id="wizardForm">
            <div class="form-group">
                <label for="newProjectName">
                    <span class="label-icon">🏗️</span> 新项目名
                </label>
                <input type="text" id="newProjectName" placeholder="my-admin" required />
                <div class="example">
                    <span class="example-icon"></span>
                    用于替换 pom.xml、README 等文件中的项目名称
                </div>
            </div>
            
            <div class="form-group">
                <label for="newPackageName">
                    <span class="label-icon">📦</span> 新包名
                </label>
                <input type="text" id="newPackageName" placeholder="com.mycompany" required />
                <div class="example">
                    <span class="example-icon"></span>
                    旧包名默认为 com.ruoyi，建议使用反向域名格式
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary prev-step">
                    ← 上一步
                </button>
                <button type="submit" class="btn btn-success submit-btn">
                    ✨ 开始替换
                </button>
            </div>
        </form>
    </div>

    <!-- 全局加载提示 -->
    <div class="loading-overlay" id="globalLoading">
        <div class="loading-card">
            <div class="spinner-large"></div>
            <h3 id="loadingTitle">正在处理中</h3>
            <p id="loadingText">正在从 GitHub 下载源码...</p>
            <div class="loading-progress">
                <div class="loading-bar">
                    <div class="loading-progress-bar" id="loadingProgressBar"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/static/js/main.js"></script>
</body>
</html>